@model FormsWebApplication.Models.Template

@{
    ViewData["Title"] = "Template Details";
}

<h2>@Model.Title</h2>
<p><strong>Author:</strong> @Model.Author.UserName</p>
<p><strong>Date Created:</strong> @Model.DateCreated.ToString("yyyy-MM-dd HH:mm")</p>

<form asp-controller="Template" asp-action="Delete" asp-route-id="@Model.Id" method="post">
    <button type="submit" class="btn btn-danger">Delete</button>
</form>

<h3>Questions</h3>
<hr />

@functions {
    public class QuestionField
    {
        public bool State { get; set; }
        public string Question { get; set; }
    }
}

@{
    var questions = new List<QuestionField>
    {
        new() { State = Model.CustomString1State, Question = Model.CustomString1Question },
        new() { State = Model.CustomString2State, Question = Model.CustomString2Question },
        new() { State = Model.CustomString3State, Question = Model.CustomString3Question },
        new() { State = Model.CustomString4State, Question = Model.CustomString4Question },

        new() { State = Model.CustomMultiLine1State, Question = Model.CustomMultiLine1Question },
        new() { State = Model.CustomMultiLine2State, Question = Model.CustomMultiLine2Question },
        new() { State = Model.CustomMultiLine3State, Question = Model.CustomMultiLine3Question },
        new() { State = Model.CustomMultiLine4State, Question = Model.CustomMultiLine4Question },

        new() { State = Model.CustomInt1State, Question = Model.CustomInt1Question },
        new() { State = Model.CustomInt2State, Question = Model.CustomInt2Question },
        new() { State = Model.CustomInt3State, Question = Model.CustomInt3Question },
        new() { State = Model.CustomInt4State, Question = Model.CustomInt4Question },

        new() { State = Model.CustomCheckbox1State, Question = Model.CustomCheckbox1Question },
        new() { State = Model.CustomCheckbox2State, Question = Model.CustomCheckbox2Question },
        new() { State = Model.CustomCheckbox3State, Question = Model.CustomCheckbox3Question },
        new() { State = Model.CustomCheckbox4State, Question = Model.CustomCheckbox4Question }
    };
}

<dl class="row">
    @foreach (var q in questions.Where(q => q.State))
    {
        <dt class="col-sm-2">@q.Question</dt>
        <dd class="col-sm-10">@q.Question</dd>
    }
</dl>

<a href="/Template/Index" class="btn btn-secondary">Back to List</a>
